<!-- Navigation Grid View -->
<div class="nav-grid" ng-show="!gridSelection">

  <!-- Figure Grid Filtering Options -->
  <div class="row">
    <div class="col-sm-12 col-md-12 col-lg-12">
      <div class="panel panel-default">
        <ul class="nav nav-pills nav-justified">
          <li><a href=""><i class="fa fa-search fa-fw"></i> Search </a></li>
          <li><a href=""><i class="fa fa-clock-o fa-fw"></i> Recent </a></li>
          <li><a href=""><i class="fa fa-tags fa-fw"></i> Topics </a></li>
          <li><a href=""><i class="fa fa-users fa-fw"></i> Users </a></li>
          <li><a href=""><i class="fa fa-code-fork fa-fw"></i> Forks </a></li>
          <li><a href=""><i class="fa fa-flask fa-fw"></i> Flasks </a></li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Grid -->
  <div class="row">

    <!-- Nav Block -->
    <div class="col-sm-4 col-md-3 col-lg-2">
      <div class="alert alert-info gridblock gridblock-nav">
        <br>
        <h4><i class="fa fa-th fa-fw"></i> Figure Grid</h4>
        <br>
        <h5>Explore figures shared by the community, or create your own.</h5>
      </div>
    </div>

    <!-- New Pathway Block -->
    <div class="col-sm-4 col-md-3 col-lg-2" ng-click="gridSelect('newPathway')">
      <div class="panel panel-success gridblock">
        <div class="panel-heading">
          <h3 class="panel-title">
            <i class="fa fa-plus fa-fw"></i> New Pathway
          </h3>
        </div>
        <br>
        <div class="gridblock-newpathway-graph" phos-pathway graph="newPathwayTemplate.graph" options="gridblockNewPathwayOptions"></div>
      </div>
    </div>

    <!-- New Kinome Block -->
    <div class="col-sm-4 col-md-3 col-lg-2">
      <div class="panel panel-success gridblock">
        <div class="panel-heading">
          <h3 class="panel-title"><i class="fa fa-plus fa-fw"></i> New Kinome</h3>
        </div>
        <div class="panel-body">
           New Kinome
        </div>
      </div>
    </div>

    <!-- Loaded Blocks -->
    <div class="col-sm-4 col-md-3 col-lg-3" ng-repeat="fig in sharedFigs">
      <div class="panel panel-primary gridblock">
        <div class="panel-heading">
          <h3 class="panel-title">{{fig.title}}</h3>
        </div>
        <div class="panel-body">
          {{fig.content}}
        </div>
        <div class="panel-footer">
          <span class="pull-right">
            <span class="badge">
              <i class="fa fa-code-fork fa-fw"></i> {{fig.forks}}
            </span>
            &nbsp;
            <span class="badge">
              <i class="fa fa-flask fa-fw"></i> {{fig.flasks}}
            </span>
          </span>
          <span class="pull-left">
            <i class="fa fa-user fa-fw"></i> {{fig.author}}
          </span>
        </div>
      </div>
    </div>

  </div>


</div>

<!-- Panel-Focus View -->
<div ng-if="gridSelection">
    <div class="row">

      <!-- Sidebar -->
      <div class="col-md-3">

        <!-- Back Button -->
        <div class="panel panel-danger">
          <button type="button" class="btn btn-danger btn-block" ng-click="gridSelect('empty')">
            <i class="fa fa-th fa-fw">
            </i> Back to the Figure Grid
          </button>
        </div>

        <!-- Contextual Panels for Mutables -->
        <div ng-if="!gridSelection.isImmutable">

          <!-- "Edit Figure" Panel -->
          <div class="panel panel-default">
            <div class="panel-heading">
              <h3 class="panel-title"><i class="fa fa-edit fa-fw"></i> Figure</h3>
            </div>
            <div class="panel-body">
              <i class="fa fa-file-o fa-fw text-info"></i>
              <input type="text" ng-model="gridSelection.title" size="16">
            </div>
            <ul class="nav nav-pills nav-stacked">
              <li><a href=""><i class="fa fa-download fa-fw"></i> Download PDF</a></li>
              <li><a href=""><i class="fa fa-share-square-o fa-fw"></i> Publish to Figure Grid</a></li>
              <li><a href=""><i class="fa fa-share-square-o fa-fw"></i> Share on Twitter</a></li>
            </ul>
          </div>

          <!-- "Load Template" Panel -->
          <div class="panel panel-default" ng-if="gridSelection.type === 'newPathway'">
            <div class="panel-heading">
              <h3 class="panel-title"><i class="fa fa-anchor fa-fw"></i> Template</h3>
            </div>
            <ul class="nav nav-pills nav-stacked">
              <li><a href=""><i class="fa fa-book fa-fw"></i> Import from XML/JSON </a></li>
              <li><a href=""><i class="fa fa-book fa-fw"></i> Curated by Phospho.io </a></li>
              <li><a href=""><i class="fa fa-cloud-download fa-fw"></i> Load from Shared</a></li>
            </ul>
          </div>
        </div>

      </div>

      <!-- Main Column -->
      <div class="col-md-9">

        <!-- Main Figure Visualization -->
        <div class="panel panel-primary panel-focus">
          <div class="panel-heading">
            <h3 class="panel-title">{{gridSelection.title}}</h3>
          </div>
            <div phos-pathway graph="newPathwayTemplate.graph" options="panelNewPathwayOptions"></div>
        </div>

      </div>

    </div>

</div>
  

